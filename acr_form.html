<!DOCTYPE html>
<html lang="en">
	<head>
		<title>ACR Editor Demo</title>

		<meta name="viewport" content="width=device-width, initial-scale=1">

		<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB" crossorigin="anonymous">

		<style>
			.req {
				color: #cd2727;
			}

			table {
				width: 100%;
			}

			table, th, td {
				border: 1px solid;
				border-collapse: collapse;
			}

			th {
				text-align: center; 
				vertical-align: middle;
			}

			td {
				text-align: center; 
				vertical-align: middle;
			}

			tr:nth-child(even) {background: #d4ebf2}
			tr:nth-child(odd) {background: #FFF}
		</style>
	</head>
	<body>
		<h1>ACR Editor Demo</h1>
		<p>The purpose of this document is to create a sample table that can be used to create and edit ACRs. This is based on the <a href="https://section508coordinators.github.io/SCRT/">Section 508 Compliance Reporting Tool (SCRT)</a>.</p>
		<div id="productSection">
			<h2>
				<button class="btn btn-primary" type="button" data-bs-toggle="collapse" data-bs-target="#disclosure" aria-expanded="false" aria-controls="disclosure">Product Information <span aria-hidden="true">+/-</span></button>
			</h2>
			<span class="collapse" id="disclosure">
				<p>"<span class="req">*</span>" indicates a required field.</p>
				<form style="width: 30%;">
					<div class="form-group">
						<label for="productName">Product Name: <span class="req">*</span></label>
						<input type="text" id="productName" class="form-control" aria-required="true">
					</div>
					<div class="form-group">
						<label for="productVersion">Product Version: <span class="req">*</span></label>
						<input type="text" id="productVersion" class="form-control" aria-required="true">
					</div>
					<div class="form-group">
						<label for="productOwner">Product Owner/Vendor: <span class="req">*</span></label>
						<input type="text" id="productOwner" class="form-control" aria-required="true">
					</div>
					<div class="form-group">
						<label for="productType">Product Type: <span class="req">*</span></label>
						<select id="productType" class="form-select" aria-required="true">
							<option>Custom developed web page</option>
							<option>COTS</option>
							<option>Customization of COTS product</option>
							<option>GOTS Application</option>
							<option>Software</option>
							<option>Other</option>
						</select>
					</div>
					<div class="form-group">
						<label for="productLocation">Location/URL: <span class="req">*</span></label>
						<input type="text" id="productLocation" class="form-control" aria-required="true">
					</div>
					<div class="form-group">
						<label for="productDescription">Product Description: <span class="req">*</span></label>
						<input type="text" id="producDescription" class="form-control" aria-required="true">
					</div>
					<div class="form-group">
						<label for="productNotes">Notes: </label>
						<input type="text" id="productNotes" class="form-control">
					</div>
				</form>
			<span>
		</div>
		<div style="overflow-x:auto;">
			<h2>Manual Testing Results</h2>
			<table id="myTable">
				<thead>
					<tr>
						<th id="col1header">Issue Number</th>
						<th id="col2header">Test Name</th>
						<th id="col3header">Test ID</th>
						<th id="col4header">Test Result</th>
						<th id="col5header">Browser Used</th>
						<th id="col6header">Tester Comments</th>
						<th id="col7header">Location/Screen</th>
						<th id="col8header">Global Issue</th>
						<th id="col9header">Screenshot</th>
						<th id="col10header">Actions</th>
					</tr>
				</thead>
				<tbody>
					<tr>
						<th scope="row" id="rownum1">01</th>
						<td>Alt-version-conformant</td>
						<td>1.A</td>
						<td>
							<select class="form-select border border-dark" aria-labeledby="col4header rownum1">
								<option>Pass</option>
								<option>Fail</option>
								<option>Does Not Apply</option>
							</select>
						</td>
						<td>
							<select class="form-select border border-dark" aria-labeledby="col5header rownum1">
								<option>Chrome</option>
								<option>Edge</option>
								<option>Firefox</option>
							</select>
						</td>
						<td><textarea class="form-control border border-dark" aria-labeledby="col6header rownum1"></textarea></td>
						<td><textarea class="form-control border border-dark" aria-labeledby="col7header rownum1"></textarea></td>
						<td>
						<select class="form-select border border-dark" aria-labeledby="col8header rownum1">
								<option>Yes</option>
								<option>No</option>
							</select>
						</td>
						<td></td>
						<td>
							<button type="button" class="btn btn-success add">Add Child Row</button>
						</td>
					</tr>

					<tr>
						<th scope="row" id="rownum2">02</th>
						<td>Alt-version-equivalent</td>
						<td>1.B</td>
						<td>
							<select class="form-select border border-dark" aria-labeledby="col4header rownum2">
								<option>Pass</option>
								<option>Fail</option>
								<option>Does Not Apply</option>
							</select>
						</td>
						<td>
							<select class="form-select border border-dark" aria-labeledby="col5header rownum2">
								<option>Chrome</option>
								<option>Edge</option>
								<option>Firefox</option>
							</select>
						</td>
						<td><textarea class="form-control border border-dark" aria-labeledby="col6header rownum2"></textarea></td>
						<td><textarea class="form-control border border-dark" aria-labeledby="col7header rownum2"></textarea></td>
						<td>
						<select class="form-select border border-dark" aria-labeledby="col8header rownum2">
								<option>Yes</option>
								<option>No</option>
							</select>
						</td>
						<td></td>
						<td>
							<button type="button" class="btn btn-success add">Add Child Row</button>
							<button type="button" class="btn btn-danger delete">Delete This Row</button>
						</td>
					</tr>

					<tr>
						<th scope="row" id="rownum3">03</th>
						<td>Alt-version-access</td>
						<td>1.C</td>
						<td>
							<select class="form-select border border-dark" aria-labeledby="col4header rownum3">
								<option>Pass</option>
								<option>Fail</option>
								<option>Does Not Apply</option>
							</select>
						</td>
						<td>
							<select class="form-select border border-dark" aria-labeledby="col5header rownum3">
								<option>Chrome</option>
								<option>Edge</option>
								<option>Firefox</option>
							</select>
						</td>
						<td><textarea class="form-control border border-dark" aria-labeledby="col6header rownum3"></textarea></td>
						<td><textarea class="form-control border border-dark" aria-labeledby="col7header rownum3"></textarea></td>
						<td>
						<select class="form-select border border-dark" aria-labeledby="col8header rownum3">
								<option>Yes</option>
								<option>No</option>
							</select>
						</td>
						<td></td>
						<td>
							<button type="button" class="btn btn-success add">Add Child Row</button>
							<button type="button" class="btn btn-danger delete">Delete This Row</button>
						</td>
					</tr>

					<tr>
						<th scope="row" id="rownum4">04</th>
						<td>Non-interference</td>
						<td>1.D</td>
						<td>
							<select class="form-select border border-dark" aria-labeledby="col4header rownum4">
								<option>Pass</option>
								<option>Fail</option>
								<option>Does Not Apply</option>
							</select>
						</td>
						<td>
							<select class="form-select border border-dark" aria-labeledby="col5header rownum4">
								<option>Chrome</option>
								<option>Edge</option>
								<option>Firefox</option>
							</select>
						</td>
						<td><textarea class="form-control border border-dark" aria-labeledby="col6header rownum4"></textarea></td>
						<td><textarea class="form-control border border-dark" aria-labeledby="col7header rownum4"></textarea></td>
						<td>
						<select class="form-select border border-dark" aria-labeledby="col8header rownum4">
								<option>Yes</option>
								<option>No</option>
							</select>
						</td>
						<td></td>
						<td>
							<button type="button" class="btn btn-success add">Add Child Row</button>
							<button type="button" class="btn btn-danger delete">Delete This Row</button>
						</td>
					</tr>
				</tbody>
			</table>
		</div>
		<label for="editor">Sample Text Area With Editor</label><br />
		<textarea name="editor" id="editor" rows="10" cols="80"></textarea>
		<h2>To Do</h2>
		<ul>
			<li><strike>Bootstrap &#10004;</strike></li>
			<li><strike>Add Disclosure widgets for sections &#10004;</strike></li>
			<li>Add functionality for adding and removing table rows</li>
			<li>Add a WYSIWYG editor for text areas</li>
			<li>Add ability to upload screenshots</li>
			<li>Add markdown support for formatting notes</li>
		</ul>

		<script>
				const table = document.getElementById('myTable');
				const renum = () => {
					table.querySelectorAll('tbody tr').forEach((tr, i) => {
						tr.cells[0].textContent = String(i + 1).padStart(2, '0');
					});
				};

				const clickButton = (e) => {
  				const button = e.target.closest('button.btn');
  				if (!button) return;
  				const parentRow = button.closest('tr');
  				if (button.matches(".delete")) {
    				parentRow.remove();
  				} else if (button.matches(".add")) {
    			// deep clone the targeted row
    			let new_row = parentRow.cloneNode(true);
    			// append the new row to the table after the clicked row
    			parentRow.after(new_row);
  			}
  			renum();
				};
				table.addEventListener('click',clickButton);
		</script>
		<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js" integrity="sha384-FKyoEForCGlyvwx9Hj09JcYn3nv7wiPVlz7YYwJrWVcXK/BmnVDxM+D2scQbITxI" crossorigin="anonymous"></script>
	</body>
</html>
